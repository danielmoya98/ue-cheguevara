---
// src/components/Gallery.astro
import { Image } from 'astro:assets';

// Definimos el 'aspect-ratio' manualmente para asegurar que el Masonry no salte (CLS)
const images = [
    { src: "https://images.unsplash.com/photo-1509062522246-3755977927d7?q=80&w=600", alt: "Clase de Ciencias", label: "Ciencia", aspect: "aspect-[3/4]" },
    { src: "https://images.unsplash.com/photo-1571260899304-425eee4c7efc?q=80&w=600", alt: "Laboratorio Escolar", label: "Laboratorio", aspect: "aspect-[4/3]" },
    { src: "https://images.unsplash.com/photo-1544717305-2782549b5136?q=80&w=600", alt: "Biblioteca", label: "Lectura", aspect: "aspect-[3/4]" },
    { src: "https://images.unsplash.com/photo-1524178232363-1fb2b075b655?q=80&w=600", alt: "Campus", label: "Campus", aspect: "aspect-square" },
    { src: "https://images.unsplash.com/photo-1427504746696-ea5abd7dfe5b?q=80&w=600", alt: "Deportes", label: "Deportes", aspect: "aspect-[4/5]" },
    { src: "https://images.unsplash.com/photo-1503676260728-1c00da094a0b?q=80&w=600", alt: "Arte", label: "Arte", aspect: "aspect-[16/9]" }
];
---

<section class="py-24 bg-white border-t border-gray-200">
    <div class="container mx-auto px-6">

        <div class="flex flex-col md:flex-row justify-between items-end mb-16 border-b-2 border-gray-900 pb-6">
            <div>
                <span class="text-[#000089] font-bold uppercase tracking-widest text-xs mb-2 block">Vida Estudiantil</span>
                <h2 class="text-4xl md:text-5xl font-black text-gray-900 leading-none tracking-tight uppercase">
                    Nuestra <br>Galería
                </h2>
            </div>

            <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" class="group mt-6 md:mt-0 flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-[#000089] transition-colors">
                <span>Seguir en Instagram</span>
                <div class="w-8 h-8 border border-gray-300 flex items-center justify-center group-hover:bg-[#000089] group-hover:border-[#000089] group-hover:text-white transition-all">
                    ↗
                </div>
            </a>
        </div>

        <div class="columns-1 md:columns-2 lg:columns-3 gap-4 space-y-4">
            {images.map((img) => (
                    <div class={`break-inside-avoid relative group overflow-hidden bg-gray-100 ${img.aspect}`}>

                        <Image
                                src={img.src}
                                alt={img.alt}
                                width={600}
                                height={800}
                        format="webp"
                        loading="lazy"
                        decoding="async"
                        class="absolute inset-0 w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 ease-out group-hover:scale-110"
                        />

                        <div class="absolute inset-0 border border-white/0 group-hover:border-white/20 transition-colors pointer-events-none z-20"></div>

                        <div class="absolute bottom-0 left-0 p-6 opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10">
                        <span class="inline-block bg-[#000089] text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1 mb-1">
                            0{Math.floor(Math.random() * 9) + 1} </span>
                            <h3 class="text-white font-bold text-lg uppercase tracking-tight leading-none bg-black/50 px-2 box-decoration-clone">
                                {img.label}
                            </h3>
                        </div>

                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>

                    </div>
                ))}
                </div>

                </div>
                </section>